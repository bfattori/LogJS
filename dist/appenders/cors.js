(function(b,d,f){var a=function(c){b.BaseAppender.call(this);this.xhr=c.__xhr;this.config={targetUrl:this.configOpt("targetUrl",c,""),timeoutInterval:this.configOpt("timeoutInterval",c,3E3)};this.buffer=[];this.timeout=f};a.prototype=Object.create(b.BaseAppender.prototype);a.prototype.name="CORSAppender";a.prototype.log=function(c,a,b,e,h){this.buffer.push({t:c,ts:a,m:b,u:e,l:h});d.clearTimeout(this.timeout);var g=this;this.timeout=d.setTimeout(function(){g.sendBuffer();g.timeout=f},this.timeoutInterval)};
    a.prototype.sendBuffer=function(){var a=JSON.stringify(this.buffer);""!==this.config.targetUrl&&(this.xhr.open("POST",this.config.targetUrl,!0),this.xhr.setRequestHeader("Content-type","application/json; charset=utf-8"),this.xhr.send(a));this.buffer=[]};if(d.XMLHttpRequest){var e=new d.XMLHttpRequest;"withCredentials"in e&&(b.config.__xhr=e,b.addAppender(a))}})(LogJS,this);